{% extends 'dashboard/layout.html' %}
{% load key_value %}
{% load prettyjson %}
{% load eztables %}

{% block extracss %}
    {% datatables_bootstrap_css %}
{% endblock %}

{% block content %}
    
    <div class="table-responsive">
        
        <table id="my-table">
            <thead>
                <th>ID</th>
                <th>Input</th>
                <th>Report ID</th>
                <th>Test Name</th>
                <th>Test Start Time</th>
                <th>Measurement Start Time</th>
            </thead>
        </table>
    </div>
    
{% endblock %}


{% block extrajs %}

{% prettyjson_setup jquery=False %}
{% datatables_js %}
{% datatables_bootstrap_js %}
<script>

    $(function () {

        $('#my-table').dataTable({
            "bProcessing": true,
            "bServerSide": true,
            "sAjaxSource": '/measurements/measurement-ajax/',
            "aoColumns": [
                { "mData": "id" },
                { "mData": "input" },
                { "mData": "report_id",
                   "mRender": function ( data ) {
                        if (data != null){
                            return '<a href="">' + data + '</a>';
                        }else{
                            return '';
                        }
                   }
                },
                { "mData": "test_name" },
                { "mData": "test_start_time" },
                { "mData": "measurement_start_time" }
            ]
        });

    })

</script>
{% endblock %}